<mxfile host="app.diagrams.net" modified="2021-07-17T10:08:46.561Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.114 Safari/537.36" etag="S-xn4vsLuMLQxOFHZwRR" version="14.8.6" type="github">
  <diagram id="C5RBs43oDa-KdzZeNtuy" name="Page-1">
    <mxGraphModel dx="2466" dy="1128" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-1" parent="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-3" value="&lt;div&gt;&amp;nbsp; TEST_JUDGE_DONE(1, CTS_TEST,&amp;nbsp;&lt;/div&gt;&lt;div&gt;&quot;考生测评进行了人工判题&quot;)&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="784" y="57" width="240" height="72" as="geometry" />
        </mxCell>
        <mxCell id="0lGR8tY5QTlnWh_6op-8-2" value="&lt;div&gt;&amp;nbsp; INTERVIEW_EVALUATED(2, INTERVIEW,&amp;nbsp;&lt;/div&gt;&lt;div&gt;&quot;在线面试面完一轮&quot;)&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;glass=0;strokeWidth=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="771" y="253" width="246.5" height="63" as="geometry" />
        </mxCell>
        <mxCell id="0lGR8tY5QTlnWh_6op-8-3" value="&lt;div&gt;&amp;nbsp; TEST_DONE(3, CTS_TEST,&lt;/div&gt;&lt;div&gt;&amp;nbsp;&quot;考生完成测评&quot;)&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;glass=0;strokeWidth=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="770" y="367" width="245.5" height="57" as="geometry" />
        </mxCell>
        <mxCell id="0lGR8tY5QTlnWh_6op-8-4" value="回调记录来源" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="838" y="31" width="82" height="18" as="geometry" />
        </mxCell>
        <mxCell id="0lGR8tY5QTlnWh_6op-8-11" value="judging-tests/{testId}&amp;nbsp; &amp;nbsp; &amp;nbsp;(进行了人工判题)" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;glass=0;strokeWidth=1;dashed=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-31" y="43" width="228" height="49" as="geometry" />
        </mxCell>
        <mxCell id="0lGR8tY5QTlnWh_6op-8-13" value="judging-tests/{testId}/judge-without-login&amp;nbsp; &amp;nbsp; (第三方免登录判题)" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;glass=0;strokeWidth=1;dashed=1;align=left;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-31" y="126" width="364" height="46" as="geometry" />
        </mxCell>
        <mxCell id="0lGR8tY5QTlnWh_6op-8-14" value="/papers/{paperId:[0-9]+}/add_from_other_paper&amp;nbsp; 将一张试卷未到场的考生导入某场笔试" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;glass=0;dashed=1;strokeColor=#000000;strokeWidth=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-38" y="307" width="466" height="51" as="geometry" />
        </mxCell>
        <mxCell id="0lGR8tY5QTlnWh_6op-8-15" value="/beisen/{ownerId:[0-9]+}/add_test_users&amp;nbsp; --- 北森批量添加考生&lt;br&gt;如果paperSetting的signUpFields没有callback值，并且exce中有该用户的callback就插入了判题完成和考生完成测评的record" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;glass=0;dashed=1;strokeColor=#000000;strokeWidth=1;align=left;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-38" y="397" width="517" height="43" as="geometry" />
        </mxCell>
        <mxCell id="0lGR8tY5QTlnWh_6op-8-16" value="/papers/cts_user_task&amp;nbsp; &amp;nbsp;第三方添加或更新考生,为啥要添加考生完成测评的record，如果paperSetting的signUpFields没有值，并且exce中有该用户的callback就插入了判题完成和考生完成测评的record(大概率不会走这个逻辑)" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;glass=0;dashed=1;strokeColor=#000000;strokeWidth=1;align=left;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-38" y="468" width="463" height="42" as="geometry" />
        </mxCell>
        <mxCell id="0lGR8tY5QTlnWh_6op-8-22" value="" style="endArrow=classic;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="201" y="66" as="sourcePoint" />
            <mxPoint x="780" y="90" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0lGR8tY5QTlnWh_6op-8-23" value="" style="endArrow=classic;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="0lGR8tY5QTlnWh_6op-8-13">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="413" y="430" as="sourcePoint" />
            <mxPoint x="774" y="104" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0lGR8tY5QTlnWh_6op-8-24" value="" style="endArrow=classic;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="0lGR8tY5QTlnWh_6op-8-14" target="0lGR8tY5QTlnWh_6op-8-3">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="413" y="430" as="sourcePoint" />
            <mxPoint x="463" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0lGR8tY5QTlnWh_6op-8-27" value="" style="endArrow=classic;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="490" y="424" as="sourcePoint" />
            <mxPoint x="756" y="406" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0lGR8tY5QTlnWh_6op-8-28" value="" style="endArrow=classic;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="804" y="955" as="sourcePoint" />
            <mxPoint x="854" y="905" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0lGR8tY5QTlnWh_6op-8-29" value="" style="endArrow=classic;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="426" y="494" as="sourcePoint" />
            <mxPoint x="766" y="410" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0lGR8tY5QTlnWh_6op-8-32" value="&lt;div&gt;&amp;nbsp; PAPER_FINISHED(4, CTS_TEST,&lt;/div&gt;&lt;div&gt;&amp;nbsp;&quot;试卷整体结束&quot;)&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;glass=0;dashed=1;strokeColor=#000000;strokeWidth=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="792" y="586.5" width="216" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0lGR8tY5QTlnWh_6op-8-34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="0lGR8tY5QTlnWh_6op-8-33" target="0lGR8tY5QTlnWh_6op-8-32">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0lGR8tY5QTlnWh_6op-8-33" value="CheckCtsPaperFinishedJob定时扫描试卷发现试卷结束就发送试卷结束的mq消息，由PaperFinishedEventHandler处理：&lt;br&gt;&amp;nbsp; &amp;nbsp; 查询hr用户的callback参数，&lt;br&gt;&lt;span style=&quot;white-space: pre&quot;&gt;	&lt;/span&gt;如果不为空，便查询该试卷的所有考生，为每个用户添加试卷结束的回调record&lt;br&gt;&lt;span style=&quot;white-space: pre&quot;&gt;	&lt;/span&gt;为空，则查询所有未参加考试的考生，对有测试结束回调记录的考生添加试卷结束的回调记录" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;glass=0;dashed=1;strokeColor=#000000;strokeWidth=1;align=left;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-41" y="577" width="547" height="79" as="geometry" />
        </mxCell>
        <mxCell id="0lGR8tY5QTlnWh_6op-8-38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="0lGR8tY5QTlnWh_6op-8-35">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="789" y="727.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0lGR8tY5QTlnWh_6op-8-35" value="pdf工程生成了成绩报告，就会为对应的考生插入pdf生成的回调记录" style="rounded=0;whiteSpace=wrap;html=1;shadow=0;glass=0;dashed=1;strokeColor=#000000;strokeWidth=1;align=left;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="-44" y="706" width="579" height="43" as="geometry" />
        </mxCell>
        <mxCell id="0lGR8tY5QTlnWh_6op-8-37" value="&lt;div&gt;&amp;nbsp; PDF_GENERATED(5, CTS_TEST,&amp;nbsp;&lt;/div&gt;&lt;div&gt;&quot;考生成绩报告生成&quot;)&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;glass=0;dashed=1;strokeColor=#000000;strokeWidth=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="789.75" y="691" width="209" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
